#!/usr/bin/env node

var celeri = require('celeri'),
beet = require('../lib');


celeri.on({
	
	/**
	 */
	
	'add :name :command': function(data)
	{
		var command = decodeURIComponent(data.command),
		name = data.name;
		
		console.log("ADD %s", command);
		
		try
		{
		beet.scripts.addProgram({ command: command, name: name }, function(err, response)
		{
			//console.log(err || response);
		});
		}catch(e)
		{
			console.log(e.stack)
		}
	},
	
	/**
	 */
	
	'remove :name': function(data)
	{ 
		console.log('Removing %s', data.name);
		
		beet.scripts.removeProgram(data.name, function()
		{
		
		});
	}
});


celeri.parse(process.argv);